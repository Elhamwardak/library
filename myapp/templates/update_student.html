{% extends 'main.html' %}

{% load crispy_forms_tags%}

{% block title %}Update Student {% endblock title %}

{% block content %}


<div class="container ">
    <div class="row">
        <div class="col col-12">
            <div class="card">
                <div class="card-body p-4">
                    <form action="" method="POST" enctype="multipart/form-data" novalidate>
                        {% csrf_token %}
                        <div class="row">
                            <div class="col-md-4">{{form.first_name | as_crispy_field}}</div>
                            <div class="col-md-4">{{form.last_name | as_crispy_field}}</div>
                            <div class="col-md-4">{{form.father_name | as_crispy_field}}</div>
                            <div class="col-md-4">{{form.phone_number | as_crispy_field}}</div>
                            <div class="col-md-4">
                                <div >
                                    <p class=" my-1">Current User</p>
                                    <p class="" style="border: 1px solid lightgray; border-radius: 5px; padding: 6px 10px;   ">{{student_user}}</p>
                                </div>
                            </div>
                            <div class="col-md-4">{{form.gender | as_crispy_field}}</div>
                            <div class="col-md-4"><input type="checkbox" name="change-user" id="change-user">Change User</div>
                            <div class="col-md-4 d-none" id="change-user-container">{{form.user | as_crispy_field}}</div>
                        </div>
                        <input type="submit" value="Update" class="btn btn-secondary w-100 border-none">
                    </form>
                </div>
            </div>
        </div>
    </div> 
</div>
<script>
    $(document).ready(function(){
        $('#change-user').change(function(){
            if(this.checked){
                $('#change-user-container').removeClass('d-none')
                
            }else{
                $('#change-user-container').addClass('d-none')
            }
        });
    });
    
    </script>
{% endblock %}